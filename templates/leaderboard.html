{% extends "base.html" %}
{% block title %}B·∫£ng x·∫øp h·∫°ng - 2048{% endblock %}
{% block description %}Xem b·∫£ng x·∫øp h·∫°ng Top 20 ng∆∞·ªùi ch∆°i xu·∫•t s·∫Øc nh·∫•t game 2048. So s√°nh ƒëi·ªÉm s·ªë, max tile v√† s·ªë l∆∞·ª£t di chuy·ªÉn v·ªõi nh·ªØng ng∆∞·ªùi ch∆°i kh√°c. Th·ª≠ th√°ch b·∫£n th√¢n ƒë·ªÉ l√™n top!{% endblock %}
{% block content %}
<div class="leaderboard-container">
  <div class="leaderboard-header">
    <h1 class="leaderboard-title">
      <span class="trophy-icon">üèÜ</span>
      Top 20 ƒêi·ªÉm Cao
    </h1>
    <p class="leaderboard-subtitle">Ng∆∞·ªùi ch∆°i xu·∫•t s·∫Øc nh·∫•t</p>
  </div>

  <div class="leaderboard-table-wrapper">
    <table class="leaderboard-table">
      <thead>
        <tr>
          <th class="rank-col">X·∫øp h·∫°ng</th>
          <th class="player-col">Ng∆∞·ªùi ch∆°i</th>
          <th class="score-col">ƒêi·ªÉm</th>
          <th class="max-tile-col">Max Tile</th>
          <th class="moves-col">S·ªë l∆∞·ª£t</th>
          <th class="date-col">Ng√†y</th>
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
        {% set s = row[0] %}
        {% set name = row[1] %}
        <tr class="leaderboard-row {% if loop.index <= 3 %}top-3{% endif %}">
          <td class="rank-cell">
            {% if loop.index == 1 %}
              <span class="rank-badge gold">ü•á</span>
            {% elif loop.index == 2 %}
              <span class="rank-badge silver">ü•à</span>
            {% elif loop.index == 3 %}
              <span class="rank-badge bronze">ü•â</span>
            {% else %}
              <span class="rank-number">{{ loop.index }}</span>
            {% endif %}
          </td>
          <td class="player-cell">
            <span class="player-name">{{ name }}</span>
          </td>
          <td class="score-cell">
            <span class="score-value">{{ s.score }}</span>
          </td>
          <td class="max-tile-cell">
            <span class="tile-badge">{{ s.max_tile }}</span>
          </td>
          <td class="moves-cell">{{ s.moves }}</td>
          <td class="date-cell">{{ s.created_at.strftime('%d/%m/%Y') if s.created_at else '' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="leaderboard-footer">
    <a href="{{ url_for('game') }}" class="btn-back">
      <span>‚Üê</span>
      <span>Quay l·∫°i game</span>
    </a>
  </div>
</div>
{% endblock %}
